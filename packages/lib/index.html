<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8"/>
    <title>Presentation Widget</title>
  </head>
  <body>
    <section>
      <div id="presentation-widget-container">
        <i>Widget placeholder</i>
      </div>
    </section>

    <style>
      #presentation-widget-container {
        border: 1px solid #ccc;
      }

      :root {
        /* --qc-theme-background: #1a3300; */
        /* --qc-theme-color: #14ff18; */
        /* --qc-play-icon-width: 140px; */
        /* --qc-play-icon-height: 140px; */
      }
    </style>

    <script type="module">
      import { PresentationWidget } from './src/index.ts';
      import { PlayerSdk } from 'https://unpkg.com/@enghouse-qumu/player-sdk@3.2.0/dist/index.modern.mjs';

      try {


        const presentationWidget = new PresentationWidget({
          // The CSS selector for the container element where the widget will be rendered
          // We force this element to exist in the DOM
          // selector: document.getElementById('presentation-widget-container'),
          selector: '#presentation-widget-container',

          host: 'mwitalinski1.qumu.dev',

          // the presentation GUID to load. Can be a smart search or a single presentation
          guid: 'ieNvSBjcytuZxOiX3X6BRe',
          // guid: 'Vm9bJzT92a77UZ4VlcO8NO', // Live not started
          // guid: 'zc3qDciZeKETzgn4ycv3fL', // Vertical video

          widgetOptions: {
            // set playback mode for the widget of 'inline' | 'inline-autoload' | 'inline-autoplay' | 'modal'
            playbackMode: 'modal',

            // the player configuration GUID to use for playback
            // this should also impact the widget appearance
            playerConfigurationGuid: "8b278a82-9782-4012-a6d6-215725f86dd9",

            playIcon: {
              url: 'https://uxwing.com/wp-content/themes/uxwing/download/video-photography-multimedia/play-button-green-icon.png',
              width: 128,
              height: 128
            },

            // in old widgets, you cannot use both left and right. We should allow for both in the new version.
            // info: {
            //   over: [],
            //   top: [],
            //   bottom: [],
            //   left: [],
            //   right: [],
            // },
          },
          // playerOptions: {
          //   playerParameters: {
          //     captions: '',
          //     debug: false,
          //     loop: false,
          //     pv: 'pipls' | 'pipss' | 'sbs',
          //     quality: 'auto',
          //     showControlPanel: true,
          //     sidebar: true,
          //     speech: '',
          //     speechTerm: '',
          //     start: 0,
          //     volume: 1,
          //     // enable or disable analytics reporting
          //     reporting: true,
          //     // the reporting ID to use for analytics
          //     reportingId: '',
          //   },
          // }
        });

        presentationWidget.getIframe().then(async (iframe) => {
          const sdk = new PlayerSdk(iframe);

          sdk.addEventListener('timeupdate', (newTime) => {
            console.log('timeupdate', newTime);
          });

          const duration = await sdk.getDuration();

          console.log('duration', duration);
        });
      } catch (error) {
        console.error('Error initializing PresentationWidget:', error);
      }

    </script>
  </body>
</html>
